import pandas as pd
import base64

df = pd.read_csv("data.csv", encoding="cp949")  # ⭐ 핵심

def decode_base64(val):
    try:
        if pd.isna(val):
            return val
        val = str(val).replace("\n", "").replace("\r", "")
        return base64.b64decode(val + "==").decode("utf-8", errors="ignore")
    except Exception as e:
        return f"ERROR"

df.insert(1, "decoded", df.iloc[:, 0].apply(decode_base64))

df.to_csv("decoded.csv", index=False, encoding="utf-8-sig")

print("완료")